<!DOCTYPE html>
<html>
<head>
    <meta charset = "ISO-8859-1" />
    <link href = "css/styles.css" rel = "stylesheet"/>
    <script th:src="@{../static/js/script.js}" type="text/javascript"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <title>Employee Management</title>
</head>
<script th:inline="javascript" >
    function redirectEmployee(id) {
        return window.location.href = '/employeeEntity/' + id;
    }
    function redirectEmployeeToEdit(id) {
        return window.location.href = '/employeeEntity/' + id+'/edit';
    }
</script>
<body>
<h1>
    Welcome to our Employee Management
</h1>
<h2>Employees</h2>
    <button class="btn btn-info" type="button"><a href="/addEmployee">Add new employeeEntity</a></button></a>
<table th:switch="${#lists.size(employeeEntities)}" class="table table-bordered table-striped" id="employeeTable">
        <span th:case="0">
            we have no employeeEntities
        </span>
    <span th:case="*">
                    <thead>
        <tr>
    <tr>
        <th>Profile image</th>
        <th>First Name</th>
        <th>Last Name</th>
        <th>Birth Date</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="employeeEntity : ${employeeEntities}">
        <td>
            <span th:if="${employeeEntity.profileImage== null}">No profile image</span>
            <span th:unless="${employeeEntity.profileImage== null}">
             <img th:src="'data:image/jpeg;base64,' + ${employeeEntity.profileImage}" width="80px" height="80px"  alt="image" src="">
        </span>
        </td>


        <td th:text="${employeeEntity.firstName}"></td>
        <td th:text="${employeeEntity.lastName}"></td>
        <td th:text="${employeeEntity.birthDate}"></td>
        <td>
            <button class="btn btn-info"  th:onclick="redirectEmployee([[${employeeEntity.id}]])">Voir la carte employ?e</button>
            <button class="btn btn-info"  th:onclick="redirectEmployeeToEdit([[${employeeEntity.id}]])">Modifier</button>
            </td>
    </tr>
    </tbody>
    </span>
</table>



</body>
</html>